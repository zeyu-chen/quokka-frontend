(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[281],{46825:function(e,t,n){Promise.resolve().then(n.bind(n,81513))},81513:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return q}});var r=n(57437),a=n(60230),o=n(2265),l=n(28170),i=n(45623),s=n(79404),c=n(33116),u=n(49385),d=n(33071),m=n(54949),f=n(39213),p=n(57042),h=n(74769);function g(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,h.m6)((0,p.W)(t))}let x=(0,f.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),b=o.forwardRef((e,t)=>{let{className:n,variant:a,size:o,asChild:l=!1,...i}=e,s=l?m.g7:"button";return(0,r.jsx)(s,{className:g(x({variant:a,size:o,className:n})),ref:t,...i})});b.displayName="Button";let v=o.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("textarea",{className:g("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...a})});v.displayName="Textarea";var y=n(97817),j=n(54227),w=n(64280);function N(){let e=(0,a._)(["\n    opacity: 0;\n    transition: opacity 0.3s ease-in;\n    &.loaded {\n      opacity: 1;\n    }\n  "]);return N=function(){return e},e}function k(){let e=(0,a._)(["\n    width: 100%;\n    height: 60vh;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: ",";\n  "]);return k=function(){return e},e}function C(){let e=(0,a._)(["\n    .ant-form-item {\n      margin-bottom: 24px;\n    }\n  "]);return C=function(){return e},e}function Z(){let e=(0,a._)(["\n    display: grid;\n    grid-template-columns: repeat(4, 1fr);\n    gap: 1rem;\n    margin-bottom: 1.5rem;\n\n    @media (max-width: 1024px) {\n      grid-template-columns: repeat(2, 1fr);\n    }\n\n    @media (max-width: 640px) {\n      grid-template-columns: 1fr;\n    }\n\n    .ant-form-item {\n      margin: 0;\n    }\n  "]);return Z=function(){return e},e}function S(){let e=(0,a._)(["\n    margin-top: 32px;\n    border-radius: ","px;\n    overflow: hidden;\n  "]);return S=function(){return e},e}function P(){let e=(0,a._)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 16px;\n  "]);return P=function(){return e},e}function T(){let e=(0,a._)(["\n    aspect-ratio: 16/9;\n    background: ",";\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    overflow: hidden;\n    border-radius: ","px;\n\n    img,\n    video {\n      max-width: 100%;\n      max-height: 100%;\n      object-fit: contain;\n    }\n  "]);return T=function(){return e},e}function _(){let e=(0,a._)(["\n    margin-top: 16px;\n    padding: 16px;\n    background: ",";\n    border-radius: ","px;\n    border: 1px solid ",";\n  "]);return _=function(){return e},e}let F="http://localhost:8000",I=[{value:"professional",label:"Professional"},{value:"casual",label:"Casual"},{value:"humorous",label:"Humorous"},{value:"formal",label:"Formal"}],E=[{value:"blog",label:"Blog Post"},{value:"social",label:"Social Media"},{value:"email",label:"Email"},{value:"article",label:"Article"}],G=[{value:"twitter",label:"Twitter"},{value:"linkedin",label:"LinkedIn"},{value:"facebook",label:"Facebook"},{value:"instagram",label:"Instagram"}],R=[{value:"text",label:"Text"},{value:"meme",label:"Meme"},{value:"video",label:"Video"},{value:"image",label:"Image"}],O=(0,y.kc)(e=>{let{token:t,css:n}=e;return{container:n(N()),loadingContainer:n(k(),t.colorBgContainer),formContainer:n(C()),formGrid:n(Z()),previewContainer:n(S(),t.borderRadiusLG),contentHeader:n(P()),mediaPreview:n(T(),t.colorBgContainer,t.borderRadius),sourceLink:n(_(),t.colorBgContainer,t.borderRadius,t.colorBorder)}});function B(){let{styles:e}=O(),[t]=s.Z.useForm(),[n,a]=(0,o.useState)(!1),[m,f]=(0,o.useState)(!0),[p,h]=(0,o.useState)(null),[g,x]=(0,o.useState)(""),[y,N]=(0,o.useState)("text"),[k,C]=(0,o.useState)(!1),[Z,S]=(0,o.useState)(""),[P,T]=(0,o.useState)(!1),[_,B]=(0,o.useState)(""),[q,z]=(0,o.useState)([]),[H,L]=(0,o.useState)(!0);(0,o.useEffect)(()=>{let e=async()=>{try{let e=sessionStorage.getItem("contentGeneratorInput");e&&t.setFieldsValue({input:e});let n=await fetch("".concat(F,"/trending"));if(!n.ok)throw Error("Failed to fetch trending topics");let r=await n.json();z(r.topics.map(e=>({value:e,label:e})))}catch(e){console.error("Failed to initialize:",e),c.ZP.error("Failed to load trending topics")}finally{L(!1),setTimeout(()=>f(!1),300)}};e()},[]);let J=async e=>{try{let t=await fetch("".concat(F,"/get_prompt"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));return await t.json()}catch(e){throw c.ZP.error("Failed to get prompt"),e}},V=async(e,t)=>{try{let n=await fetch("".concat(F,"/generate_").concat(t),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:e})});if(!n.ok)throw Error("HTTP error! status: ".concat(n.status));return await n.json()}catch(e){throw c.ZP.error("Failed to generate ".concat(t)),e}},A=async()=>{if(!_){c.ZP.error("No content to refine");return}T(!0);try{let e=await fetch("".concat(F,"/refine"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:_,refine:Z})});if(!e.ok)throw Error("Failed to refine prompt");let t=await e.json(),n=await V(t.prompt,y);"text"===y?h(n.text):h(n.url),B(t.prompt),C(!1),S(""),c.ZP.success("Content refined successfully!")}catch(e){console.error("Refinement failed:",e),c.ZP.error("Failed to refine content")}finally{T(!1)}},M=async e=>{a(!0);try{let t=await J(e);x(t.link),B(t.prompt);let n=await V(t.prompt,y);"text"===y?h(n.text):h(n.url),c.ZP.success("Content generated successfully!")}catch(e){console.error("Generation failed:",e),c.ZP.error("Failed to generate content")}finally{a(!1)}};return m?(0,r.jsx)("div",{className:e.loadingContainer,children:(0,r.jsx)(u.Z,{size:"large",tip:"Loading..."})}):(0,r.jsxs)("div",{className:"".concat(e.container," ").concat(m?"":"loaded"),children:[(0,r.jsxs)(l.Z,{className:"w-full max-w-4xl mx-auto mt-8",children:[(0,r.jsxs)(s.Z,{form:t,layout:"vertical",onFinish:M,className:e.formContainer,disabled:n,children:[(0,r.jsx)(s.Z.Item,{name:"input",label:"What would you like to generate?",rules:[{required:!0,message:"Please enter your content prompt"}],children:(0,r.jsx)(v,{onChange:e=>{sessionStorage.setItem("contentGeneratorInput",e.target.value)},placeholder:"Enter your content prompt here...",className:"min-h-[100px]"})}),(0,r.jsxs)("div",{className:e.formGrid,children:[(0,r.jsx)(s.Z.Item,{name:"tone",label:"Tone",rules:[{required:!0}],className:"m-0",children:(0,r.jsx)(i.Z,{options:I,placeholder:"Select tone",className:"w-full"})}),(0,r.jsx)(s.Z.Item,{name:"type",label:"Type",rules:[{required:!0}],className:"m-0",children:(0,r.jsx)(i.Z,{options:E,placeholder:"Select type",className:"w-full"})}),(0,r.jsx)(s.Z.Item,{name:"platform",label:"Platform",rules:[{required:!0}],className:"m-0",children:(0,r.jsx)(i.Z,{options:G,placeholder:"Select platform",className:"w-full"})}),(0,r.jsx)(s.Z.Item,{name:"trending",label:"Trending Topics",className:"m-0",children:(0,r.jsx)(i.Z,{loading:H,options:q,placeholder:"Select trending topic",className:"w-full",allowClear:!0})})]}),(0,r.jsx)(s.Z.Item,{name:"outputType",label:"Output Format",rules:[{required:!0}],children:(0,r.jsx)(i.Z,{options:R,placeholder:"Select output format",onChange:e=>{N(e),h(null)}})}),(0,r.jsx)(s.Z.Item,{children:(0,r.jsxs)(b,{type:"submit",disabled:n,className:"w-full",children:[(0,r.jsx)(j.Z,{className:"mr-2 h-4 w-4"}),n?"Generating...":"Generate Content"]})})]}),p&&(0,r.jsxs)("div",{className:e.previewContainer,children:[(0,r.jsxs)("div",{className:e.contentHeader,children:[(0,r.jsx)("h3",{className:"text-lg font-semibold",children:"Generated Content"}),(0,r.jsxs)(b,{size:"sm",variant:"outline",onClick:()=>C(!0),className:"flex items-center gap-2",disabled:P,children:[(0,r.jsx)(w.Z,{className:"h-4 w-4"}),"Refine"]})]}),"text"===y?(0,r.jsx)("div",{className:"p-4 bg-muted rounded-lg",children:(0,r.jsx)("p",{className:"whitespace-pre-wrap",children:p})}):(0,r.jsx)("div",{className:e.mediaPreview,children:"video"===y?(0,r.jsx)("video",{src:p,controls:!0,className:"w-full h-full"}):(0,r.jsx)("img",{src:p,alt:"Generated content",className:"w-full h-full object-contain"})}),g&&(0,r.jsx)("div",{className:e.sourceLink,children:(0,r.jsxs)("div",{className:"text-sm",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Source: "}),(0,r.jsx)("a",{href:g,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:g})]})})]})]}),(0,r.jsx)(d.Z,{title:"Refine Content",open:k,onCancel:()=>{C(!1),S("")},footer:[(0,r.jsx)(b,{variant:"outline",onClick:()=>{C(!1),S("")},children:"Cancel"},"cancel"),(0,r.jsx)(b,{onClick:A,disabled:!Z.trim()||P,children:P?"Refining...":"Refine"},"submit")],children:(0,r.jsxs)("div",{className:"my-4",children:[(0,r.jsx)(v,{value:Z,onChange:e=>S(e.target.value),placeholder:"Enter your refinement instructions...",className:"min-h-[100px]"}),(0,r.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:"Describe how you'd like to refine the generated content."})]})})]})}function q(){return(0,r.jsx)(B,{})}}},function(e){e.O(0,[938,876,385,57,110,270,443,987,971,864,744],function(){return e(e.s=46825)}),_N_E=e.O()}]);